## üìÑ Sum√°rio

  * [Vis√£o Geral]
  * [Funcionalidades]
  * [Arquitetura]
  * [Tecnologias Utilizadas]
  * [Configura√ß√£o do Ambiente de Desenvolvimento]
      * [Pr√©-requisitos]
      * [Clonando o Reposit√≥rio]
      * [Configura√ß√£o da API Externa (Simula√ß√£o)]
      * [Configura√ß√£o do Backend]
      * [Configura√ß√£o do Frontend]
      * [Executando o Projeto]
  * [Fluxo de Uso]
  * [Estrutura do Projeto]
  * [Contribui√ß√£o]
  * [Licen√ßa]
  * [Contato]

## ‚ú® Vis√£o Geral

O **Ordi** √© um sistema de pedidos digital para estabelecimentos de com√©rcio (restaurantes, bares, lanchonetes) que visa modernizar a experi√™ncia do cliente. Os clientes podem escanear um QR Code para acessar o card√°pio, fazer seus pedidos diretamente de seus celulares e envi√°-los para o sistema interno do estabelecimento, tudo de forma intuitiva e eficiente.

## üöÄ Funcionalidades

  * **Acesso por QR Code:** Clientes escaneiam um QR Code da comanda/mesa que j√° cont√©m o ID da comanda.
  * **Entrada de N√∫mero da Mesa:** Solicita ao cliente apenas o n√∫mero da mesa, completando as informa√ß√µes necess√°rias para o pedido.
  * **Visualiza√ß√£o de Card√°pio:** Exibe o card√°pio de produtos dinamicamente, obtido de uma API externa (ou fallback local).
  * **Sele√ß√£o de Produtos:** Permite adicionar produtos ao carrinho, incluindo a escolha de variantes (se aplic√°vel).
  * **Gerenciamento de Carrinho:** Adicione, remova e ajuste a quantidade de itens no carrinho.
  * **Observa√ß√µes no Pedido:** Possibilidade de adicionar observa√ß√µes espec√≠ficas para cada item e observa√ß√µes gerais para o pedido.
  * **Envio de Pedido:** Envia o pedido completo para o sistema de gerenciamento do com√©rcio atrav√©s de um backend adaptador.
  * **Interface Responsiva:** Otimizado para visualiza√ß√£o em dispositivos m√≥veis.

## üìê Arquitetura

O projeto Ordi segue uma arquitetura modular com tr√™s camadas principais, garantindo flexibilidade, escalabilidade e manutenibilidade:

1.  **Frontend (Aplicativo Cliente):**

      * Desenvolvido em React, √© a interface que os clientes utilizam em seus dispositivos m√≥veis.
      * Respons√°vel pela apresenta√ß√£o do card√°pio, gerenciamento do carrinho e coleta de dados do pedido.
      * Comunica-se com o **Backend** via API RESTful.

2.  **Backend (Servidor Adaptador):**

      * Desenvolvido em Node.js com Express e TypeScript.
      * Atua como um intermedi√°rio entre o Frontend e a API Externa do Com√©rcio.
      * Respons√°vel por:
          * Receber requisi√ß√µes do Frontend.
          * Adaptar (mapear/transformar) os dados entre o formato do Frontend e o formato da API Externa.
          * Chamar a **API Externa do Com√©rcio** para buscar produtos e enviar pedidos.
          * Tratar erros de comunica√ß√£o e l√≥gica.

3.  **API Externa do Com√©rcio (Simulada):**

      * Representa o sistema real de gerenciamento do estabelecimento (sistema de comandas, estoque, PDV).
      * Neste projeto, √© simulada usando `json-server` para fins de desenvolvimento e teste.
      * Fornece os dados do card√°pio e recebe os pedidos.

<!-- end list -->

```mermaid
graph TD
    A[Cliente <br/> (Navegador/Celular)] -->|Acessa URL, Interage com UI| B(Frontend <br/> React.js)
    B -->|Requisi√ß√µes HTTP <br/> (GET /api/products, POST /api/orders)| C(Backend <br/> Node.js/Express)
    C -->|Requisi√ß√µes HTTP <br/> (GET /cardapio, POST /pedidos)| D(API Externa do Com√©rcio <br/> json-server/Real API)
```

## üíª Tecnologias Utilizadas

  * **Frontend:**
      * [React](https://react.dev/)
      * [Vite](https://vitejs.dev/) (para bundling e dev server)
      * [Tailwind CSS](https://tailwindcss.com/) (para estiliza√ß√£o)
      * [Axios](https://axios-http.com/) (para requisi√ß√µes HTTP)
      * [React Router DOM](https://reactrouter.com/en/main) (para roteamento)
  * **Backend:**
      * [Node.js](https://nodejs.org/en)
      * [Express.js](https://expressjs.com/)
      * [TypeScript](https://www.typescriptlang.org/)
      * [Axios](https://axios-http.com/) (para requisi√ß√µes HTTP para a API externa)
      * [dotenv](https://www.npmjs.com/package/dotenv) (para vari√°veis de ambiente)
  * **Ferramentas de Desenvolvimento/Simula√ß√£o:**
      * [Git](https://git-scm.com/)
      * [json-server](https://github.com/typicode/json-server) (para simular a API Externa)

## üõ†Ô∏è Configura√ß√£o do Ambiente de Desenvolvimento

Para rodar o projeto Ordi em sua m√°quina local, siga os passos abaixo. Voc√™ precisar√° de **tr√™s terminais** abertos simultaneamente.

### Pr√©-requisitos

  * [Node.js](https://nodejs.org/en/download/) (vers√£o 18 ou superior recomendada)
  * [npm](https://www.npmjs.com/get-npm) ou [Yarn](https://classic.yarnpkg.com/en/docs/install)
  * [Git](https://git-scm.com/downloads)

### Clonando o Reposit√≥rio

```bash
git clone https://github.com/KhadaFox/Ordi.git
cd Ordi
```

### Configura√ß√£o da API Externa (Simula√ß√£o com `json-server`)

Este passo simula a API do sistema de comandas do com√©rcio.

1.  **Instale o `json-server` globalmente:**

    ```bash
    npm install -g json-server
    # ou
    yarn global add json-server
    ```

2.  **Crie o arquivo `db.json`** na pasta `backend/`. Este arquivo ser√° o "banco de dados" da sua API externa simulada.

    ```json
    // backend/db.json
    {
      "cardapio": [
        {
          "id": "prod-cafe",
          "nome": "Caf√© Expresso",
          "descricao": "Caf√© forte e arom√°tico.",
          "categoria": "Bebidas",
          "subcategoria": "Caf√©s",
          "url_imagem": "/images/cafe_expresso.webp",
          "preco_unico": 8.00,
          "variantes": []
        },
        {
          "id": "prod-sanduiche",
          "nome": "Sandu√≠che Natural",
          "descricao": "P√£o integral, queijo branco, peito de peru e alface.",
          "categoria": "Comidas",
          "subcategoria": "Lanches",
          "url_imagem": "/images/sanduiche_natural.webp",
          "preco_unico": null,
          "variantes": [
            { "id": "var-sanduiche-frango", "nome": "Frango", "preco": 22.00, "descricao": "Com pat√™ de frango" },
            { "id": "var-sanduiche-vegetariano", "nome": "Vegetariano", "preco": 20.00, "descricao": "Com legumes frescos" }
          ]
        }
        // Adicione mais produtos conforme necess√°rio
      ],
      "pedidos": []
    }
    ```

3.  **Abra o PRIMEIRO TERMINAL**, navegue at√© a pasta `backend/` e inicie o `json-server`:

    ```bash
    cd backend
    json-server --watch db.json --port 8080
    ```

      * Este terminal exibir√° os endpoints dispon√≠veis (ex: `http://localhost:8080/cardapio`, `http://localhost:8080/pedidos`). Deixe-o aberto.

### Configura√ß√£o do Backend

1.  **Abra o SEGUNDO TERMINAL**, navegue at√© a pasta `backend/`:
    ```bash
    cd backend
    ```
2.  **Instale as depend√™ncias:**
    ```bash
    npm install
    # ou
    yarn install
    ```
3.  **Crie um arquivo `.env`** na raiz da pasta `backend/` e adicione as seguintes vari√°veis:
    ```
    # backend/.env
    PORT=3001
    EXTERNAL_API_URL=http://localhost:8080 # IMPORTANTE: SEM '/api' NO FINAL para json-server
    EXTERNAL_API_KEY=sua_chave_de_autenticacao_aqui # Opcional, se a API externa exigir
    ```
4.  **Inicie o servidor do backend:**
    ```bash
    npm run dev
    # ou
    yarn dev
    ```
      * Este terminal exibir√° a mensagem de que o servidor est√° rodando (ex: `üöÄ Backend server running on port 3001`). Deixe-o aberto.

### Configura√ß√£o do Frontend

1.  **Abra o TERCEIRO TERMINAL**, navegue at√© a pasta `frontend/`:
    ```bash
    cd frontend
    ```
2.  **Instale as depend√™ncias:**
    ```bash
    npm install
    # ou
    yarn install
    ```
3.  **Crie um arquivo `.env.local`** na raiz da pasta `frontend/` e adicione a seguinte vari√°vel:
    ```
    # frontend/.env.local
    VITE_BACKEND_API_URL=http://localhost:3001/api # Este deve apontar para o seu backend
    ```
4.  **Inicie o servidor de desenvolvimento do frontend:**
    ```bash
    npm run dev
    # ou
    yarn dev
    ```
      * Este terminal exibir√° a URL onde o frontend est√° dispon√≠vel (ex: `http://localhost:5173`). Deixe-o aberto.

### Executando o Projeto

Com os tr√™s terminais rodando (json-server, backend e frontend), abra seu navegador e acesse a URL da tela de entrada da comanda, simulando um QR Code:

```
http://localhost:5173/comanda-entry?comandaId=SEU_ID_DA_COMANDA
```

  * Substitua `SEU_ID_DA_COMANDA` por um ID de sua escolha (ex: `ABCDE123`).

## üö∂ Fluxo de Uso

1.  O cliente escaneia o QR Code (simulado pela URL acima).
2.  A tela `ComandaEntry` √© carregada, exibindo o `ID da Comanda` (pr√©-preenchido e n√£o edit√°vel).
3.  O cliente insere o `N√∫mero da Mesa` e clica em "Acessar Card√°pio".
4.  A tela `Menu` √© carregada, exibindo os produtos obtidos da API externa (simulada pelo `json-server`).
5.  O cliente pode navegar pelo card√°pio, adicionar produtos ao carrinho, ajustar quantidades e adicionar observa√ß√µes.
6.  Ao finalizar, o cliente envia o pedido, que √© processado pelo backend e enviado √† API externa.
7.  O sucesso do pedido pode ser verificado no terminal do `json-server` (que mostrar√° o `POST` para `/pedidos`) e no pr√≥prio arquivo `backend/db.json` no array `pedidos`.

## üìÇ Estrutura do Projeto

```
Ordi/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # L√≥gica de controle para requisi√ß√µes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ integrations/        # Adaptadores para APIs externas (ex: ComandaAdapter.ts)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/              # Defini√ß√£o das rotas da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/               # Defini√ß√£o de tipos TypeScript
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server.ts            # Ponto de entrada do servidor Express
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ .env.example             # Exemplo de arquivo de vari√°veis de ambiente
‚îÇ   ‚îú‚îÄ‚îÄ db.json                  # Arquivo para simula√ß√£o do json-server
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ public/                  # Arquivos est√°ticos (ex: imagens)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/              # Imagens e outros recursos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/          # Componentes reutiliz√°veis do React
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/               # P√°ginas principais (Menu, ComandaEntry, etc.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/            # Servi√ßos para comunica√ß√£o com o backend (api.js)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx              # Componente principal da aplica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.jsx             # Ponto de entrada do React
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ .env.local.example       # Exemplo de arquivo de vari√°veis de ambiente do frontend
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ postcss.config.js
‚îÇ   ‚îú‚îÄ‚îÄ tailwind.config.js
‚îÇ   ‚îî‚îÄ‚îÄ vite.config.js
‚îú‚îÄ‚îÄ .gitignore                   # Arquivos/pastas a serem ignorados pelo Git
‚îú‚îÄ‚îÄ README.md                    # Este arquivo
‚îî‚îÄ‚îÄ package.json                 # (Opcional) Se voc√™ tiver um monorepo com workspaces
```

## ü§ù Contribui√ß√£o

Contribui√ß√µes s√£o bem-vindas\! Sinta-se √† vontade para abrir issues para reportar bugs ou sugerir funcionalidades, ou enviar pull requests com melhorias.

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a Licen√ßa MIT. Veja o arquivo [LICENSE] para mais detalhes.

## ‚úâÔ∏è Contato

  * **Igor "igoresteves880@outlook.com"**
  * GitHub: [https://github.com/KhadaFox](https://github.com/KhadaFox)

-----

**Dica:** Crie os arquivos `.env.example` e `.env.local.example` em suas respectivas pastas (`backend/` e `frontend/`) contendo as vari√°veis sem os valores, para que outros desenvolvedores saibam quais vari√°veis precisam configurar. E lembre-se de adicionar `node_modules/`, `.env`, e `.env.local` ao seu `.gitignore` na raiz do projeto.
